"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[614],{7796:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var t=i(4848),r=i(8453);const l={sidebar_position:2,title:"Entwicklung"},s=void 0,a={id:"development",title:"Entwicklung",description:"Die folgende Anleitung unterst\xfctzt Entwickler, die den Kugelblitz pflegen oder \xe4ndern m\xf6chten.",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/development.mdx",sourceDirName:".",slug:"/development",permalink:"/de/docs/development",draft:!1,unlisted:!1,editUrl:"https://github.com/paion-data/Kugelblitz/tree/master/docs/docs/development.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Entwicklung"},sidebar:"tutorialSidebar",previous:{title:"Einf\xfchrung",permalink:"/de/docs/intro"}},o={},d=[{value:"Vorbereitung f\xfcr die lokale Entwicklung",id:"vorbereitung-f\xfcr-die-lokale-entwicklung",level:2},{value:"Java &amp; Maven installieren (auf dem Mac)",id:"java--maven-installieren-auf-dem-mac",level:3},{value:"Docker Engine installieren",id:"docker-engine-installieren",level:3},{value:"Quellcode abrufen",id:"quellcode-abrufen",level:2},{value:"Kugelblitz-Codestile mit IntelliJ synchronisieren",id:"kugelblitz-codestile-mit-intellij-synchronisieren",level:3},{value:"Tests ausf\xfchren",id:"tests-ausf\xfchren",level:2},{value:"ArangoDB",id:"arangodb",level:2},{value:"Fehlerbehebung",id:"fehlerbehebung",level:2},{value:"IntelliJ",id:"intellij",level:3},{value:"IntelliJ kann Ressourcendatei nicht lesen",id:"intellij-kann-ressourcendatei-nicht-lesen",level:4},{value:"Tabulatorbreite",id:"tabulatorbreite",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Die folgende Anleitung unterst\xfctzt Entwickler, die den Kugelblitz pflegen oder \xe4ndern m\xf6chten."}),"\n",(0,t.jsx)(n.h2,{id:"vorbereitung-f\xfcr-die-lokale-entwicklung",children:"Vorbereitung f\xfcr die lokale Entwicklung"}),"\n",(0,t.jsx)(n.p,{children:"Dieser Abschnitt beschreibt die einmalige Einrichtung f\xfcr die Entwicklung von FastWS."}),"\n",(0,t.jsx)(n.h3,{id:"java--maven-installieren-auf-dem-mac",children:"Java & Maven installieren (auf dem Mac)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew update\nbrew install openjdk@17\n"})}),"\n",(0,t.jsx)(n.p,{children:"Am Ende der letzten Eingabeaufforderung wird etwa Folgendes angezeigt:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'For the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn ...openjdk@17/libexec/openjdk.jdk .../JavaVirtualMachines/openjdk-17.jdk\n\nopenjdk@17 is keg-only, which means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have openjdk@17 first in your PATH, run:\n  echo \'export PATH=".../openjdk@17/bin:$PATH"\' >> .../.bash_profile\n\nFor compilers to find openjdk@17 you may need to set:\n  export CPPFLAGS="-I.../openjdk@17/include"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["F\xfchren Sie unbedingt die oben genannten Befehle ",(0,t.jsx)(n.code,{children:"sudo ln -sfn"}),", ",(0,t.jsx)(n.code,{children:"echo 'export PATH=..."})," und ",(0,t.jsx)(n.code,{children:"export CPPFLAGS="})," aus."]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["Kugelblitz wird mit Maven erstellt, das eine separate JDK-Version verwendet. Dies kann \xfcber ",(0,t.jsx)(n.code,{children:"mvn -v"})," \xfcberpr\xfcft werden.\nWenn es sich nicht um JDK 17 handelt, sollte Maven mit ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/2503679",children:"JAVA_HOME"})," auf unser JDK 17\nverweisen:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\n\n$ export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\n"})})]}),"\n",(0,t.jsx)(n.p,{children:"Wenn wir nach der Eingabe des Befehls mit dem unten stehenden Versionsflag etwas \xc4hnliches sehen, k\xf6nnen wir loslegen."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ java --version\nopenjdk 17.0.10 2021-01-19\nOpenJDK Runtime Environment (Build 17.0.10+9)\nOpenJDK 64-Bit-Server-VM (Build 17.0.10+9, gemischter Modus)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"docker-engine-installieren",children:"Docker Engine installieren"}),"\n",(0,t.jsxs)(n.p,{children:["Kugelblitz bietet\n",(0,t.jsx)(n.a,{href:"https://github.com/QubitPi/Kugelblitz/blob/master/src/test/java/org/qubitpi/kugelblitz/arango/ArangoControllerIT.java",children:"Docker-basierte Integrationstests"}),";\nes unterst\xfctzt au\xdferdem\n",(0,t.jsx)(n.a,{href:"https://github.com/QubitPi/Kugelblitz/blob/master/src/test/java/org/qubitpi/kugelblitz/DockerComposeIT.java",children:"das Ausf\xfchren von Template-Webdiensten in Docker"}),".\nDocker kann mit ",(0,t.jsx)(n.a,{href:"https://docker.qubitpi.org/desktop/setup/install/mac-install/",children:"dieser Anleitung"})," installiert werden."]}),"\n",(0,t.jsx)(n.h2,{id:"quellcode-abrufen",children:"Quellcode abrufen"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:QubitPi/Kugelblitz.git\ncd Kugelblitz\n"})}),"\n",(0,t.jsx)(n.h3,{id:"kugelblitz-codestile-mit-intellij-synchronisieren",children:"Kugelblitz-Codestile mit IntelliJ synchronisieren"}),"\n",(0,t.jsxs)(n.p,{children:["Die wichtigsten Codestilkonventionen f\xfcr Kugelblitz-Code haben wir hier als IntelliJ-Einstellungen zusammengefasst. Wird\nIntelliJ als IDE verwendet, k\xf6nnen diese Codestileinstellungen durch Importieren der Datei\n",(0,t.jsx)(n.a,{href:"http://github.com/paion-data/.github/blob/master/intellij/Paion-Data-WS-Project-intellij-code-style.xml",children:"Kugelblitz-Project-intellij-code-style.xml"}),"\nim Stammverzeichnis des Repositorys importiert werden. Die Projekteinstellung erscheint als neues Schema mit dem Namen\n\u201eKugelblitz-Projekt\u201c im IDE-Bereich ",(0,t.jsx)(n.strong,{children:"Editor"})," -> ",(0,t.jsx)(n.strong,{children:"Code Style"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Aktivieren Sie au\xdferdem die Option \u201eNicht verwendete Importe entfernen\u201c unter ",(0,t.jsx)(n.strong,{children:"Editor"})," -> ",(0,t.jsx)(n.strong,{children:"General"})," -> ",(0,t.jsx)(n.strong,{children:"Auto\nImport"})," -> ",(0,t.jsx)(n.strong,{children:"Optimize Imports on the Fly"}),". Dadurch werden nicht verwendete Importe automatisch entfernt."]}),"\n",(0,t.jsx)(n.h2,{id:"tests-ausf\xfchren",children:"Tests ausf\xfchren"}),"\n",(0,t.jsx)(n.p,{children:"Die folgenden Befehle f\xfchren sowohl Unit- als auch Integrationstests aus:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mvn clean verify\n"})}),"\n",(0,t.jsx)(n.h2,{id:"arangodb",children:"ArangoDB"}),"\n",(0,t.jsx)(n.p,{children:"Arango-Datenbank starten"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"docker run -d -p 8529:8529 \\\n-e ARANGO_ROOT_PASSWORD=root \\\n-v arango-data:/var/lib/arangodb3 \\\n-v arango-app:/var/lib/arangodb3-apps \\\n--name arangodb --platform linux/arm64/v8 arangodb\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Die ArangoDB-Webkonsole sollte unter ",(0,t.jsx)(n.a,{href:"http://localhost:8529",children:"http://localhost:8529"})," mit den Benutzernamen ",(0,t.jsx)(n.code,{children:"root"})," und dem Passwort ",(0,t.jsx)(n.code,{children:"root"}),"\nerreichbar sein."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Weitere Informationen zur Navigation in der Arango-Weboberfl\xe4che finden Sie in der\n",(0,t.jsx)(n.a,{href:"https://arango.qubitpi.org/stable/components/web-interface/",children:"ArangoDB-Dokumentation"})]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"git clone git@github.com:QubitPi/Kugelblitz.git\ncd Kugelblitz\nmvn clean package\n\nexport KUGELBLITZ_ARANGO_HOSTS=http://localhost:8529\nexport KUGELBLITZ_ARANGO_USERNAME=root\nexport KUGELBLITZ_ARANGO_PASSWORD=root\n\njava -jar target/kugelblitz-0.0.1-SNAPSHOT.jar\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Beachten Sie, dass ",(0,t.jsx)(n.code,{children:"KUGELBLITZ_ARANGO_USERNAME"})," und ",(0,t.jsx)(n.code,{children:"KUGELBLITZ_ARANGO_PASSWORD"})," der obigen\nArandoDB-Docker-Konfiguration entsprechen. Au\xdferdem muss ",(0,t.jsx)(n.code,{children:"KUGELBLITZ_ARANGO_HOSTS"}),' entweder mit\n"',(0,t.jsx)(n.strong,{children:"http://"}),'" oder "',(0,t.jsx)(n.strong,{children:"https://"}),'" beginnen.']}),"\n",(0,t.jsx)(n.p,{children:"Der Standardport ist 8080."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Healthcheck: ",(0,t.jsx)(n.a,{href:"http://localhost:8080/actuator/health",children:"http://localhost:8080/actuator/health"})]}),"\n",(0,t.jsxs)(n.li,{children:["Swagger-UI: ",(0,t.jsx)(n.a,{href:"http://localhost:8080/swagger-ui/index.html",children:"http://localhost:8080/swagger-ui/index.html"})]}),"\n",(0,t.jsx)(n.li,{children:"Entit\xe4t erstellen:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"curl --location 'localhost:8080/arango/createDocument/mydatabase/mycollection' --header 'Content-Type: application/json' --data '{\n\"myfield\": \"myvalue\"\n}' -v\n"})}),"\n",(0,t.jsx)(n.h2,{id:"fehlerbehebung",children:"Fehlerbehebung"}),"\n",(0,t.jsx)(n.h3,{id:"intellij",children:"IntelliJ"}),"\n",(0,t.jsx)(n.h4,{id:"intellij-kann-ressourcendatei-nicht-lesen",children:"IntelliJ kann Ressourcendatei nicht lesen"}),"\n",(0,t.jsx)(n.p,{children:"Bei Unit-Tests in IntelliJ tritt manchmal die Fehlermeldung \u201eEine Ressourcendatei kann nicht gefunden werden\u201c auf. Wir\nwissen jedoch, dass der Pfad korrekt ist. In diesem Fall handelt es sich lediglich um ein IntelliJ-Problem. Dieses l\xe4sst\nsich l\xf6sen, indem die Ressourcen explizit geladen werden. Geben Sie IntelliJ an, wo sich diese Ressourcen befinden:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Fehler beim Laden von intelliJ-find-resource.png",src:i(9874).A+"",width:"2542",height:"1600"})}),"\n",(0,t.jsx)(n.h4,{id:"tabulatorbreite",children:"Tabulatorbreite"}),"\n",(0,t.jsxs)(n.p,{children:["Wir verwenden vier Leerzeichen als Tabulator. Dies kann unter ",(0,t.jsx)(n.strong,{children:"Code Style"})," -> ",(0,t.jsx)(n.strong,{children:"Java"})," -> ",(0,t.jsx)(n.strong,{children:"Tabs and Indents"})," mit den\nfolgenden Einstellungen konfiguriert werden:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tabulatorgr\xf6\xdfe: 4"}),"\n",(0,t.jsx)(n.li,{children:"Einzug: 4"}),"\n",(0,t.jsx)(n.li,{children:"Fortsetzungseinzug: 8"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Wenn Tabulatoren beim Dr\xfccken von TAB oder Eingabe immer noch mit 2 Leerzeichen und nicht mit 4 Leerzeichen angezeigt\nwerden, versuchen Sie Folgendes:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u201eSettings | Editor | Code Style\u201c - Deaktivieren Sie \u201eDetect and use existing file indents for editing\u201c, falls diese\nOption aktiviert ist (standardm\xe4\xdfig). HINWEIS: M\xf6glicherweise m\xfcssen Sie die Datei erneut im Editor \xf6ffnen."}),"\n",(0,t.jsx)(n.li,{children:"Befinden sich im Pfad dieser Datei .editorconfig-Dateien? Einstellungen aus .editorconfig\n(\u201eSettings | Editor | Code Style\u201c) haben Vorrang vor Ihren IDE-Einstellungen (werden \xfcberschrieben)."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var t=i(6540);const r={},l=t.createContext(r);function s(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(l.Provider,{value:n},e.children)}},9874:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/intelliJ-find-resource-3f94d06504aac240f01fcde613894835.png"}}]);